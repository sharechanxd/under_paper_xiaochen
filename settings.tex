\documentclass[zihao=-4,punct]{ctexbook}

\usepackage[a4paper,hmargin={2.54cm,2.54cm},vmargin={3.17cm,3.17cm}]{geometry}
\usepackage{fancyhdr}
\usepackage{graphicx,subfigure}
\usepackage{titlesec}
\usepackage[subfigure]{tocloft}
\usepackage[pdfborder={0 0 0}]{hyperref}
\usepackage{indentfirst}

\graphicspath{{fig/}}

\usepackage{amsmath,amssymb,amsthm}
\usepackage{bm}
\usepackage{algorithm}
\usepackage{algpseudocode}
\floatname{algorithm}{算法}
\renewcommand{\algorithmicrequire}{\textbf{输入:}}
\renewcommand{\algorithmicensure}{\textbf{输出:}}

\pagestyle{fancy}
\fancyhf{}
\fancyhead[RO]{\it\rightmark}
\fancyhead[LE]{\it\leftmark}
\fancyfoot[C,C]{\thepage}

\titleformat{\chapter}[hang]
{\fontsize{18pt}{18pt}\selectfont\sf\center}{\CTEXthechapter}{1.5em}{}
\titleformat{\section}[hang]
{\fontsize{15pt}{15pt}\selectfont\sf}{\thesection}{1em}{}
\titleformat{\subsection}[hang]
{\fontsize{14pt}{14pt}\selectfont\sf}{\thesubsection}{1em}{}

\renewcommand{\cfttoctitlefont}{\hfill\Large\sffamily}
\renewcommand{\cftaftertoctitle}{\hfill}
\renewcommand{\cftchapfont}{\sffamily}
\renewcommand{\cftsecfont}{\sffamily}
\renewcommand{\cftsubsecfont}{\sffamily}

\numberwithin{equation}{chapter}
\renewcommand\theequation{\arabic{chapter}.\arabic{equation}}
